<!DOCTYPE html>
<html>
    <head>
        <title> IS GPA Calculator </title>
        <script>


            function round(value, decimals) {
			   return Number(Math.round(value+'e'+decimals)+'e-'+decimals);
			}
                        
            
            function calcGPA()
            {
                var is201GPA = document.getElementById("is-201gpa");
                var is303GPA = document.getElementById("is-303gpa");
                var acc200GPA = document.getElementById("acc-200gpa");
                var fin201GPA = document.getElementById("fin-201gpa");
                var mktg201GPA = document.getElementById("mktg-201gpa");
                var lastGPA = parseFloat(document.getElementById("lastGPA").value);
                var overallGPA = parseFloat(document.getElementById("overallGPA").value);

                var is201Retake = document.getElementById("is201Retake");
                var is303Retake = document.getElementById("is303Retake");
                var acc200Retake = document.getElementById("acc200Retake");
                var fin201Retake = document.getElementById("fin201Retake");
                var mktg201Retake = document.getElementById("mktg201Retake");

                var totalGPA = 0;

                
                //Check to see if any of the values are blank
                if(is201GPA.value == "" || is303GPA.value == "" || acc200GPA.value == "" || fin201GPA.value == "" 
                || mktg201GPA.value == "" || lastGPA.value == "" || overallGPA.value == "") {
                    alert("You must select an item in each drop down and enter a value in the GPA text boxes!");
					is201GPA.focus();
                }
                else {

                    //Check to see if class was retaken
                    if (is201Retake.checked == true) 
                    {
                        if(is201GPA.value != 0) 
                        {
                            is201GPA.options.selectedIndex += 1;
                        }                       
                    }
                    else if (is303Retake.checked == true) 
                    {
                        if(is303GPA.value != 0)
                        {
                            is303GPA.options.selectedIndex += 1;
                        }
                    }
                    else if (acc200Retake.checked == true) 
                    {
                        if(acc200GPA.value != 0)
                        {
                            acc200GPA.options.selectedIndex += 1;
                        }
                    }
                    else if (fin201Retake.checked == true) 
                    {
                        if(fin201GPA.value != 0)
                        {
                        fin201GPA.options.selectedIndex += 1;
                        }
                    }
                    else if (mktg201Retake.checked == true) 
                    {
                        if(mktg201GPA.value != 0)
                        {
                        mktg201GPA.options.selectedIndex += 1;
                        }
                    }


                    is201GPA = parseFloat(is201GPA.value);
                    is303GPA = parseFloat(is303GPA.value);
                    acc200GPA = parseFloat(acc200GPA.value);
                    fin201GPA = parseFloat(fin201GPA.value);
                    mktg201GPA = parseFloat(mktg201GPA.value);
                    
                    console.log(is201GPA);  
                
                    totalGPA = (is201GPA* .2) + (is303GPA * .2) + (((fin201GPA + mktg201GPA + acc200GPA) / 3) * .2) + (lastGPA * .2) + (overallGPA * .2);
                    totalGPA = round(totalGPA, 2);
                    
                    //Put total GPA into the outputGPA p tag
                    document.getElementById("outputGPA").innerHTML = totalGPA;

                    //Change the circle based on the GPA
                    if (totalGPA >= 3.7) {
						myCircle.style.display = "block";                                         
						myCircle.style.fill="green";
					}
					else if(totalGPA >= 3.4) {
						myCircle.style.display = "block";                                         
						myCircle.style.fill="yellow";
					}
					else {
						myCircle.style.display = "block";                                         
						myCircle.style.fill="red";
					}
                }
            } 
            
            // this function clears all values, resets the total GPA to 0, and clears the circle.
            function clearCircle() 
            {
                var circleStyle = document.getElementById("myCircle");

                circleStyle.style.fill = "none";
                circleStyle.style.display = "none";
                
                document.getElementById("outputGPA").innerHTML = "";

                document.getElementById("is-201gpa").value = "";
                document.getElementById("is-303gpa").value = "";
                document.getElementById("acc-200gpa").value = "";
                document.getElementById("fin-201gpa").value = "";
                document.getElementById("mktg-201gpa").value = "";
                document.getElementById("overallGPA").value = "";
                document.getElementById("lastGPA").value = "";
                
                document.getElementById("is201-gpa").focus();
			}
            
        </script>
        
        <!-- Bootstrap -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" 
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

        <!-- Custom Style -->
        <style>
            .body-container {
                height: 100%;
                width: 100% !important;
                margin: auto !important;
            }

            .calculator-block {
                width: 80%;
                height: 750px;


                position: absolute;
                top: 0;
                bottom: 0;
                left: 0;
                right: 0;

                padding-top: 20px;

                margin: auto;

                text-align: center;	
                
                background-color: rgba(51, 50, 54, .9); 
                color: white;
                border-radius: 5%;
            }

            h1 {
                text-align: center;
            }

            html, body {
                height: 100% !important;
                background-image: url("https://www.byu.edu/housing/oncampushousing/images/Helaman_birds_eye.jpg");
            }

            .logo {
                width: 15%;
                opacity: 1 !important;
            }

            #outputGPA {
                margin-top: 10px;
                margin-bottom: 0px;
            }

        </style>


    </head>

    <body onload="clearCircle()">

        <div class="container body-container">
            <div class="calculator-block">
                <h1>IS GPA Calculator </h1>
                <p> IS201
                    <select id="is-201gpa">
                        <option disabled selected value></option>  
                        <option value = "4" > A </option>
                        <option value ="3.7"> A- </option>
                        <option value ="3.4"> B+ </option>
                        <option value ="3"> B </option>
                        <option value ="2.7"> B- </option>
                        <option value ="2.4"> C+ </option>
                        <option value ="2"> C </option>
                        <option value ="1.7"> C- </option>
                        <option value ="1.4"> D+ </option>
                        <option value ="1"> D </option>
                        <option value =".7"> D- </option>
                        <option value ="0"> E </option>
                    </select> 
                    <input type="checkbox" id="is201Retake" value="Retake"> Retake
                    <br/>
                </p>

                <p> IS 303/CS 142
                    <select id="is-303gpa">
                            <option disabled selected value></option>  
                            <option value = "4" > A </option>
                            <option value ="3.7"> A- </option>
                            <option value ="3.4"> B+ </option>
                            <option value ="3"> B </option>
                            <option value ="2.7"> B- </option>
                            <option value ="2.4"> C+ </option>
                            <option value ="2"> C </option>
                            <option value ="1.7"> C- </option>
                            <option value ="1.4"> D+ </option>
                            <option value ="1"> D </option>
                            <option value =".7"> D- </option>
                            <option value ="0"> E </option>
                    </select> 
                    <input type="checkbox" id="is303Retake" value="Retake"> Retake
                    <br/>
                </p>

                <p> ACC 200
                    <select id="acc-200gpa">
                            <option disabled selected value></option>  
                            <option value = "4" > A </option>
                            <option value ="3.7"> A- </option>
                            <option value ="3.4"> B+ </option>
                            <option value ="3"> B </option>
                            <option value ="2.7"> B- </option>
                            <option value ="2.4"> C+ </option>
                            <option value ="2"> C </option>
                            <option value ="1.7"> C- </option>
                            <option value ="1.4"> D+ </option>
                            <option value ="1"> D </option>
                            <option value =".7"> D- </option>
                            <option value ="0"> E </option>
                    </select> 
                    <input type="checkbox" id="acc200Retake" value="Retake"> Retake
                    <br/>
                </p>    

                <p> FIN 201
                    <select id="fin-201gpa">
                        <option disabled selected value></option>  
                        <option value = "4" > A </option>
                        <option value ="3.7"> A- </option>
                        <option value ="3.4"> B+ </option>
                        <option value ="3"> B </option>
                        <option value ="2.7"> B- </option>
                        <option value ="2.4"> C+ </option>
                        <option value ="2"> C </option>
                        <option value ="1.7"> C- </option>
                        <option value ="1.4"> D+ </option>
                        <option value ="1"> D </option>
                        <option value =".7"> D- </option>
                        <option value ="0"> E </option>
                    </select> 
                    <input type="checkbox" id="fin201Retake" value="Retake"> Retake
                    <br/>
                </p>  

                <p> MKTG 201
                    <select id="mktg-201gpa">
                        <option disabled selected value></option>  
                        <option value = "4" > A </option>
                        <option value ="3.7"> A- </option>
                        <option value ="3.4"> B+ </option>
                        <option value ="3"> B </option>
                        <option value ="2.7"> B- </option>
                        <option value ="2.4"> C+ </option>
                        <option value ="2"> C </option>
                        <option value ="1.7"> C- </option>
                        <option value ="1.4"> D+ </option>
                        <option value ="1"> D </option>
                        <option value =".7"> D- </option>
                        <option value ="0"> E </option>
                    </select>
                    <input type="checkbox" id="mktg201Retake" value="Retake"> Retake
                </p>
                BYU overall GPA: <input type="text" name="overallGPA" id="overallGPA"><br><br>
                BYU Last 30 Credits GPA: <input type="text" name="lastGPA" id="lastGPA"><br><br>
                <button type="button" onclick="calcGPA()">Calculate</button><br><br>
                <button onclick="clearCircle()">Reset</button><br>
                <p id="outputGPA"></p>
                <svg height="100" width="100">
                    <circle id="myCircle" cx="50" cy="50" r="40" stroke="black" stroke-width="3" fill="green" display = "none" />
                </svg>

                <br>

                <a href="https://marriottschool.byu.edu/infosys/"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Brigham_Young_University_medallion.svg/2000px-Brigham_Young_University_medallion.svg.png" class="logo"></a>
                <p>Click here to learn more about the IS program at BYU</p>
            </div>
        </div>
    </body>
</html>